"use strict";(()=>{var e={};e.id=6717,e.ids=[6717],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},12583:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>A,patchFetch:()=>b,requestAsyncStorage:()=>w,routeModule:()=>y,serverHooks:()=>x,staticGenerationAsyncStorage:()=>v});var a={};r.r(a),r.d(a,{default:()=>c});var o={};r.r(o),r.d(o,{GET:()=>h});var n=r(49303),i=r(88716),s=r(60670),l=r(55661),u=r(17593),d=r(30942);async function c(){let e=process.env.NEXTAUTH_URL||process.env.NEXT_PUBLIC_SITE_URL||"http://localhost:3000";await (0,d.G)();let t=[];try{t=await u._.post.findMany({where:{published:!0},select:{slug:!0,updatedAt:!0,createdAt:!0},orderBy:{updatedAt:"desc"}})}catch(e){console.error("Error fetching posts for sitemap:",e)}let r=[];try{u._&&"page"in u._&&(r=await u._.page.findMany({where:{published:!0},select:{slug:!0,updatedAt:!0,createdAt:!0},orderBy:{updatedAt:"desc"}}))}catch(e){console.error("Error fetching pages for sitemap:",e)}let a=[];try{u._&&"category"in u._&&(a=await u._.category.findMany({select:{slug:!0}}))}catch(e){console.error("Error fetching categories for sitemap:",e)}let o=[{url:e,lastModified:new Date,changeFrequency:"daily",priority:1}];return[...o,...t.map(t=>({url:`${e}/posts/${t.slug}`,lastModified:t.updatedAt||t.createdAt,changeFrequency:"weekly",priority:.8})),...r.map(t=>({url:`${e}/pages/${t.slug}`,lastModified:t.updatedAt||t.createdAt,changeFrequency:"monthly",priority:.6})),...a.map(t=>({url:`${e}/category/${t.slug}`,lastModified:new Date,changeFrequency:"daily",priority:.7}))]}var p=r(60707);let f={...a},m=f.default,g=f.generateSitemaps;if("function"!=typeof m)throw Error('Default export is missing in "/Users/hunxai/apkapp/app/sitemap.ts"');async function h(e,t){let r;let{__metadata_id__:a,...o}=t.params||{},n=g?await g():null;if(n&&null==(r=n.find(e=>{let t=e.id.toString();return(t+=".xml")===a})?.id))return new l.NextResponse("Not Found",{status:404});let i=await m({id:r}),s=(0,p.resolveRouteData)(i,"sitemap");return new l.NextResponse(s,{headers:{"Content-Type":"application/xml","Cache-Control":"public, max-age=0, must-revalidate"}})}let y=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/sitemap.xml/route",pathname:"/sitemap.xml",filename:"sitemap",bundlePath:"app/sitemap.xml/route"},resolvedPagePath:"next-metadata-route-loader?page=%2Fsitemap.xml%2Froute&filePath=%2FUsers%2Fhunxai%2Fapkapp%2Fapp%2Fsitemap.ts&isDynamic=1!?__next_metadata_route__",nextConfigOutput:"",userland:o}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:x}=y,A="/sitemap.xml/route";function b(){return(0,s.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:v})}},17593:(e,t,r)=>{r.d(t,{_:()=>o});var a=r(53524);let o=globalThis.prisma??new a.PrismaClient},30942:(e,t,r)=>{r.d(t,{G:()=>o});var a=r(17593);async function o(){try{if(!a._)throw Error("Prisma client is not initialized");if(!("settings"in a._))throw console.error("Settings model not found in Prisma Client. Please restart the dev server."),Error("Settings model not available. Please restart the dev server.");let e=await a._.settings.findFirst();return e||(e=await a._.settings.create({data:{siteName:"PKR Games",headerMenu:["Home","Apps","Games","Casinos"],footerLinks:[],socialMedia:{facebook:"",twitter:"",instagram:"",youtube:"",pinterest:"",telegram:""},heroTitle:"PKR Gamesd - Download Best Games",heroSubtitle:""}})),e}catch(e){return console.error("Error in getSettings:",e),{id:"",siteName:"PKR Games",logo:"",favicon:"",headerMenu:["Home","Apps","Games","Casinos"],footerLinks:[],socialMedia:{facebook:"",twitter:"",instagram:"",youtube:"",pinterest:"",telegram:""},heroTitle:"PKR Games - Download Best Games",heroSubtitle:"",heroBackground:"",enableComments:!0,primaryColor:"#dc2626",secondaryColor:"#16a34a",backgroundColor:"#111827",textColor:"#ffffff",buttonColor:"#dc2626",linkColor:"#3b82f6",successColor:"#16a34a",errorColor:"#dc2626",warningColor:"#f59e0b",infoColor:"#3b82f6",headerScript:null,footerScript:null,headerCSS:null,footerCSS:null,updatedAt:new Date}}}},60707:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveManifest:function(){return i},resolveRobots:function(){return o},resolveRouteData:function(){return s},resolveSitemap:function(){return n}});let a=r(91389);function o(e){let t="";for(let r of Array.isArray(e.rules)?e.rules:[e.rules]){for(let e of(0,a.resolveArray)(r.userAgent||["*"]))t+=`User-Agent: ${e}
`;if(r.allow)for(let e of(0,a.resolveArray)(r.allow))t+=`Allow: ${e}
`;if(r.disallow)for(let e of(0,a.resolveArray)(r.disallow))t+=`Disallow: ${e}
`;r.crawlDelay&&(t+=`Crawl-delay: ${r.crawlDelay}
`),t+="\n"}return e.host&&(t+=`Host: ${e.host}
`),e.sitemap&&(0,a.resolveArray)(e.sitemap).forEach(e=>{t+=`Sitemap: ${e}
`}),t}function n(e){let t=e.some(e=>Object.keys(e.alternates??{}).length>0),r="";for(let o of(r+='<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"',t?r+=' xmlns:xhtml="http://www.w3.org/1999/xhtml">\n':r+=">\n",e)){var a;r+=`<url>
<loc>${o.url}</loc>
`;let e=null==(a=o.alternates)?void 0:a.languages;if(e&&Object.keys(e).length)for(let t in e)r+=`<xhtml:link rel="alternate" hreflang="${t}" href="${e[t]}" />
`;if(o.lastModified){let e=o.lastModified instanceof Date?o.lastModified.toISOString():o.lastModified;r+=`<lastmod>${e}</lastmod>
`}o.changeFrequency&&(r+=`<changefreq>${o.changeFrequency}</changefreq>
`),"number"==typeof o.priority&&(r+=`<priority>${o.priority}</priority>
`),r+="</url>\n"}return r+"</urlset>\n"}function i(e){return JSON.stringify(e)}function s(e,t){return"robots"===t?o(e):"sitemap"===t?n(e):"manifest"===t?i(e):""}},91389:(e,t)=>{function r(e){return Array.isArray(e)?e:[e]}function a(e){if(null!=e)return r(e)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveArray:function(){return r},resolveAsArrayOrUndefined:function(){return a}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,2518],()=>r(12583));module.exports=a})();