(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{8380:function(e,t,r){Promise.resolve().then(r.bind(r,6598))},6598:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var a=r(2403),s=r(3583),n=r(6200),l=r(7437),i=r(9376),o=r(2265),d=r(7648),c=r(6122),u=r(8516);function m(e){var t,r,m=e.page,h=(0,i.useRouter)(),g=(0,s._)((0,o.useState)(m.title),2),x=g[0],b=g[1],p=(0,s._)((0,o.useState)(m.content),2),f=p[0],y=p[1],j=(0,s._)((0,o.useState)(m.slug),2),N=j[0],v=j[1],w=(0,s._)((0,o.useState)(m.published),2),k=w[0],S=w[1],_=(0,s._)((0,o.useState)(m.metaTitle||""),2),C=_[0],E=_[1],F=(0,s._)((0,o.useState)(m.metaDescription||""),2),T=F[0],D=F[1],I=(0,s._)((0,o.useState)(m.featuredImage||""),2),A=I[0],O=I[1],P=(0,s._)((0,o.useState)(m.featuredImageAlt||""),2),U=P[0],J=P[1],L=(0,s._)((0,o.useState)(!1),2),M=L[0],q=L[1],z=(0,s._)((0,o.useState)(""),2),B=z[0],R=z[1],Z=(t=(0,a._)(function(e){var t;return(0,n.Jh)(this,function(r){switch(r.label){case 0:e.preventDefault(),R(""),q(!0),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,fetch("/api/pages/".concat(m.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:x,content:f,slug:N,published:k,metaTitle:C||x,metaDescription:T,featuredImage:A,featuredImageAlt:U})})];case 2:if((t=r.sent()).ok)return[3,4];return[4,t.json()];case 3:throw Error(r.sent().error||"Failed to update page");case 4:return h.push("/dashboard/pages"),h.refresh(),[3,6];case 5:return R(r.sent().message),q(!1),[3,6];case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),W=(r=(0,a._)(function(){return(0,n.Jh)(this,function(e){switch(e.label){case 0:if(!confirm("Are you sure you want to delete this page?"))return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch("/api/pages/".concat(m.id),{method:"DELETE"})];case 2:if(!e.sent().ok)throw Error("Failed to delete page");return h.push("/dashboard/pages"),h.refresh(),[3,4];case 3:return R(e.sent().message),[3,4];case 4:return[2]}})}),function(){return r.apply(this,arguments)});return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,l.jsx)("nav",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,l.jsx)(d.default,{href:"/dashboard",className:"text-2xl font-bold text-gray-900",children:"Blog CMS"})})})}),(0,l.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Edit Page"}),B&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:B}),(0,l.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,l.jsx)("input",{id:"title",type:"text",value:x,onChange:function(e){return b(e.target.value)},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),(0,l.jsx)("input",{id:"slug",type:"text",value:N,onChange:function(e){return v(e.target.value)},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,l.jsx)(c.Z,{id:"content",value:f,onChange:y,placeholder:"Write your page content here..."})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Featured Image"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(u.Z,{label:"Featured Image URL",value:A,onChange:O,placeholder:"https://example.com/image.jpg"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"featuredImageAlt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image Alt Text"}),(0,l.jsx)("input",{id:"featuredImageAlt",type:"text",value:U,onChange:function(e){return J(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Description of the image for accessibility"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"SEO Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"metaTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title (for SEO)"}),(0,l.jsx)("input",{id:"metaTitle",type:"text",value:C,onChange:function(e){return E(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"SEO optimized title (defaults to page title)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"metaDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),(0,l.jsx)("textarea",{id:"metaDescription",value:T,onChange:function(e){return D(e.target.value)},rows:3,maxLength:160,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none",placeholder:"Brief description for search engines"}),(0,l.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[T.length,"/160 characters"]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"published",type:"checkbox",checked:k,onChange:function(e){return S(e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"published",className:"ml-2 block text-sm text-gray-700",children:"Published"})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{type:"submit",disabled:M,className:"bg-button text-button hover:bg-secondary px-6 py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Updating...":"Update Page"}),(0,l.jsx)("button",{type:"button",onClick:W,className:"bg-red-600 text-theme-text px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition",children:"Delete"}),(0,l.jsx)(d.default,{href:"/dashboard/pages",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Cancel"})]})]})]})})]})}}},function(e){e.O(0,[572,902,972,29,236,753,971,117,744],function(){return e(e.s=8380)}),_N_E=e.O()}]);