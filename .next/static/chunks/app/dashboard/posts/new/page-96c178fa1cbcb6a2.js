(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{4442:function(e,t,r){Promise.resolve().then(r.bind(r,2195))},2195:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(2403),n=r(3583),s=r(6200),l=r(7437),o=r(9376),i=r(2265),d=r(7648),u=r(6122),c=r(8516);function m(){var e,t,r=(0,o.useRouter)(),m=(0,n._)((0,i.useState)(""),2),g=m[0],x=m[1],p=(0,n._)((0,i.useState)(""),2),b=p[0],h=p[1],f=(0,n._)((0,i.useState)(""),2),y=f[0],j=f[1],v=(0,n._)((0,i.useState)(!1),2),N=v[0],w=v[1],k=(0,n._)((0,i.useState)(""),2),C=k[0],S=k[1],_=(0,n._)((0,i.useState)(!0),2),F=_[0],D=_[1],L=(0,n._)((0,i.useState)([]),2),E=L[0],P=L[1],I=(0,n._)((0,i.useState)(""),2),O=I[0],T=I[1],A=(0,n._)((0,i.useState)(""),2),q=A[0],z=A[1],R=(0,n._)((0,i.useState)(""),2),V=R[0],B=R[1],M=(0,n._)((0,i.useState)(""),2),G=M[0],J=M[1],W=(0,n._)((0,i.useState)(""),2),Z=W[0],K=W[1],H=(0,n._)((0,i.useState)(""),2),Q=H[0],U=H[1],X=(0,n._)((0,i.useState)(""),2),Y=X[0],$=X[1],ee=(0,n._)((0,i.useState)(""),2),et=ee[0],er=ee[1],ea=(0,n._)((0,i.useState)(""),2),en=ea[0],es=ea[1],el=(0,n._)((0,i.useState)(""),2),eo=el[0],ei=el[1],ed=(0,n._)((0,i.useState)(""),2),eu=ed[0],ec=ed[1],em=(0,n._)((0,i.useState)(""),2),eg=em[0],ex=em[1],ep=(0,n._)((0,i.useState)(""),2),eb=ep[0],eh=ep[1],ef=(0,n._)((0,i.useState)("0"),2),ey=ef[0],ej=ef[1],ev=(0,n._)((0,i.useState)(!1),2),eN=ev[0],ew=ev[1],ek=(0,n._)((0,i.useState)(""),2),eC=ek[0],eS=ek[1];(0,i.useEffect)(function(){e_()},[]);var e_=(e=(0,a._)(function(){var e;return(0,s.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),[4,fetch("/api/categories")];case 1:if(!(e=t.sent()).ok)return[3,3];return[4,e.json()];case 2:P(t.sent()),t.label=3;case 3:return[3,5];case 4:return console.error("Error fetching categories:",t.sent()),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)}),eF=function(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()},eD=(t=(0,a._)(function(e){var t;return(0,s.Jh)(this,function(a){switch(a.label){case 0:e.preventDefault(),eS(""),ew(!0),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g,content:b,slug:y||eF(g),published:N,categoryId:C||null,allowComments:F,metaTitle:O||g,metaDescription:q,keywords:V.split(",").map(function(e){return e.trim()}).filter(Boolean),featuredImage:G,featuredImageAlt:Z,downloadLink:Q,developer:Y,appSize:et,appVersion:en,requirements:eo,downloads:eu,googlePlayLink:eg,rating:eb?parseFloat(eb):null,ratingCount:ey?parseInt(ey):0})})];case 2:if((t=a.sent()).ok)return[3,4];return[4,t.json()];case 3:throw Error(a.sent().error||"Failed to create post");case 4:return r.push("/dashboard"),r.refresh(),[3,6];case 5:return eS(a.sent().message),ew(!1),[3,6];case 6:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,l.jsx)("nav",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,l.jsx)(d.default,{href:"/dashboard",className:"text-2xl font-bold text-gray-900",children:"Blog CMS"})})})}),(0,l.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Post"}),eC&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:eC}),(0,l.jsxs)("form",{onSubmit:eD,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,l.jsx)("input",{id:"title",type:"text",value:g,onChange:function(e){var t=e.target.value;x(t),y&&y!==eF(g)||j(eF(t))},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Enter post title"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),(0,l.jsx)("input",{id:"slug",type:"text",value:y,onChange:function(e){return j(e.target.value)},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"post-url-slug"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,l.jsx)(u.Z,{id:"content",value:b,onChange:h,placeholder:"Write your post content here..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"downloadLink",className:"block text-sm font-medium text-gray-700 mb-2",children:"Download Link (optional)"}),(0,l.jsx)("input",{id:"downloadLink",type:"url",value:Q,onChange:function(e){return U(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"https://example.com/file.pdf"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Link to downloadable file (PDF, document, etc.)"})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"App Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"developer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Developer"}),(0,l.jsx)("input",{id:"developer",type:"text",value:Y,onChange:function(e){return $(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., 666W"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"appSize",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),(0,l.jsx)("input",{id:"appSize",type:"text",value:et,onChange:function(e){return er(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., 6.95 MB"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"appVersion",className:"block text-sm font-medium text-gray-700 mb-2",children:"Version"}),(0,l.jsx)("input",{id:"appVersion",type:"text",value:en,onChange:function(e){return es(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., V1.1.52"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements"}),(0,l.jsx)("input",{id:"requirements",type:"text",value:eo,onChange:function(e){return ei(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., Android 5.0 & Above"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"downloads",className:"block text-sm font-medium text-gray-700 mb-2",children:"Downloads"}),(0,l.jsx)("input",{id:"downloads",type:"text",value:eu,onChange:function(e){return ec(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., 5000+"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"googlePlayLink",className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Play Link (optional)"}),(0,l.jsx)("input",{id:"googlePlayLink",type:"url",value:eg,onChange:function(e){return ex(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"https://play.google.com/store/apps/..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating (0.0 - 5.0)"}),(0,l.jsx)("input",{id:"rating",type:"number",min:"0",max:"5",step:"0.1",value:eb,onChange:function(e){return eh(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., 4.5"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Rating from 0.0 to 5.0 (leave empty for no rating)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"ratingCount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Count"}),(0,l.jsx)("input",{id:"ratingCount",type:"number",min:"0",value:ey,onChange:function(e){return ej(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"e.g., 1250"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Number of reviews/ratings"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"SEO Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"metaTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title (for SEO)"}),(0,l.jsx)("input",{id:"metaTitle",type:"text",value:O,onChange:function(e){return T(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"SEO optimized title (defaults to post title)"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 50-60 characters"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"metaDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),(0,l.jsx)("textarea",{id:"metaDescription",value:q,onChange:function(e){return z(e.target.value)},rows:3,maxLength:160,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none",placeholder:"Brief description for search engines"}),(0,l.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[q.length,"/160 characters"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"keywords",className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),(0,l.jsx)("input",{id:"keywords",type:"text",value:V,onChange:function(e){return B(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"keyword1, keyword2, keyword3"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(c.Z,{id:"featuredImage",value:G,onChange:J,label:"Featured Image (also used for Open Graph)",placeholder:"https://example.com/image.jpg or upload"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"featuredImageAlt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image Alt Text"}),(0,l.jsx)("input",{id:"featuredImageAlt",type:"text",value:Z,onChange:function(e){return K(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Descriptive alt text for image"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This image will be used for both the featured image and Open Graph (social media sharing)"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category (optional)"}),(0,l.jsxs)("select",{id:"category",value:C,onChange:function(e){return S(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition text-gray-900",style:{color:"#000"},children:[(0,l.jsx)("option",{value:"",children:"No Category"}),E.map(function(e){return(0,l.jsx)("option",{value:e.id,style:{color:"#000"},children:e.name},e.id)})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"published",type:"checkbox",checked:N,onChange:function(e){return w(e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"published",className:"ml-2 block text-sm text-gray-700",children:"Publish immediately"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"allowComments",type:"checkbox",checked:F,onChange:function(e){return D(e.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"allowComments",className:"ml-2 block text-sm text-gray-700",children:"Allow Comments"})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{type:"submit",disabled:eN,className:"bg-button text-button hover:bg-secondary px-6 py-3 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:eN?"Creating...":"Create Post"}),(0,l.jsx)(d.default,{href:"/dashboard",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Cancel"})]})]})]})})]})}}},function(e){e.O(0,[572,902,972,29,236,753,971,117,744],function(){return e(e.s=4442)}),_N_E=e.O()}]);